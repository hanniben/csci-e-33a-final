{% extends "game/layout.html" %}
{% load static %}

{% block sidebar %}

    {% if won %}
    <strong>Announcements:</strong>

    {% for game in won %}

    <div>{{ game.player }} won a game at {{ game.timestamp_won }}</div>

    {% endfor %}

    {% endif %}

{% endblock %}

{% block body %}

    <h1>Hello {{ request.user }}! Would you like to play a game?</h1>

    {% if user.is_authenticated %}
        <a class="nav-link" href="{% url 'new' %}">Play A New Game</a>
    {% endif %}

    {% for game in games %}

        <a id="game-list" href="{% url 'game_view' game.id %}">

            <div>Last Saved: </div>
            <div>{{ game.timestamp_save }}</div>
            <div>Keys found: </div>

            {% for key in game.keys %}
                <div><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" {% if key == '1' %} fill="red" {% endif %}>
                    <path d="M3.5 11.5a3.5 3.5 0 1 1 3.163-5H14L15.5 8 14 9.5l-1-1-1 1-1-1-1 1-1-1-1 1H6.663a3.5 3.5 0 0 1-3.163 2zM2.5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
                </svg></div>
            {% endfor %}

        </a>
    
    {% endfor %}



{% endblock %}